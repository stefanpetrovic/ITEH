YUI.add("td-photoheader-model",function(e,t){"use strict";e.namespace("TD.Photoheader").Model=e.Base.create("TDPhotoheaderModel",e.Model,[e.Af.Sync],{resource:"photoheader",readonly:!0,idAttribute:"photoheaderAttr",initializer:function(e){}},{ATTRS:{photoheaderAttr:{}}})},"@VERSION@",{requires:["model","af-sync"]});
YUI.add("td-photoheader-mainview",function(e){"use strict";e.namespace("TD.Photoheader").MainView=e.Base.create("TDPhotoheaderMainView",e.Af.AppletView,[],{initializer:function(){var t=this,n=t.get("model").get("config"),r=e.one("body"),i=r.one(".yog-hd")||r.one("#yog-hd")||r.one("#UH")||r.one("header")||r.one("#header"),s="ph-espon",o=n.spaceid,u=this.get("guid"),a=r.hasClass("yog-smartphone"),f=r.hasClass("yog-tablet");YMedia&&YMedia.rapid&&YMedia.rapid.addModules&&YMedia.rapid.addModules("applet_"+u),i&&n.is_sponsored==="1"&&!a&&!f&&this.initSticky(),"1"===n.is_sponsored&&!a&&e.on("domready",function(){DARLA&&o&&(DARLA.add({name:s,sp:o,ps:"ESPON",ssl:!0}),DARLA.addPos({pos:"ESPON",clean:"yom-ad-ESPON",dest:"yom-ad-ESPON-iframe",h:"30",id:"ESPON",w:"120"}),DARLA.event(s))})},autoRender:!1,initSticky:function(){var t=e.one("body"),n=t.one("[data-applet-type='td-applet-photoheader']"),r=n.previous(),i=t.one(".yog-hd")||t.one("#yog-hd")||t.one("#UH")||t.one("header")||t.one("#header"),s=i.getComputedStyle("height").replace("px",""),o=n.getStyle("width"),u=t.one(".yog-content")||t.one("#Main")||t.one(".yog-card"),a=n.getXY()[1]-s,f,l=e.one("window"),c=function(){n.previous().setStyle("marginBottom",e.UA.userAgent.indexOf("MSIE")>-1||e.UA.userAgent.indexOf("Trident")>-1?"6px":"initial"),n.setStyle("boxShadow","none"),e.UA.safari?n.setStyles({position:"initial",top:0,zIndex:"initial",marginLeft:0}):n.setStyles({position:"relative",top:0,marginLeft:0})},h=function(){var r=t.one("#yucsHead");(e.one(".scroll-fallback")||e.one(".Sticky-off"))&&c(),n.setStyle("width",u.getStyle("width")),n.getStyle("position")==="fixed"?(n.one(".header-bg")||n.prepend("<div class='header-bg Z-1'></div>"),r&&r.getStyle("backgroundImage")&&r.getStyle("backgroundColor")&&(n.one(".header-bg").setStyles({backgroundImage:r.getStyle("backgroundImage"),backgroundColor:r.getStyle("backgroundColor"),backgroundPosition:"-"+n.getX()+"px -"+a+"px",width:"100%",backgroundSize:t.getStyle("width"),height:n.getStyle("height"),position:"absolute"}),n.one(".header-bg").show())):n.one(".header-bg")&&n.one(".header-bg").hide()},p=function(){(e.one(".scroll-fallback")||e.one(".Sticky-off"))&&c(),a<l.get("scrollTop")?(n.setStyles({top:s,position:"fixed",zIndex:"50",width:o,marginLeft:-l.get("scrollLeft")}),n.previous().setStyle("marginBottom",n.getStyle("height")),i.getStyle("boxShadow")&&i.getStyle("boxShadow")!=="none"&&n.setStyle("boxShadow",i.getStyle("boxShadow").substring(i.getStyle("boxShadow").indexOf("rgb"),i.getStyle("boxShadow").indexOf(")")+1)+" 0 1px 3px 0")):(n.previous().setStyle("marginBottom",e.UA.userAgent.indexOf("MSIE")>-1||e.UA.userAgent.indexOf("Trident")>-1?"6px":"initial"),n.setStyle("boxShadow","none"),e.UA.safari?n.setStyles({position:"initial",top:0,zIndex:"initial",marginLeft:0}):n.setStyles({position:"relative",top:0,marginLeft:0})),h()};n.one("#td-photoheader img")||n.one(".tie-title").removeClass("Pos-a");if(!r||r.getStyle("display")==="none")t.insert("<div style='height:0px'></div>",n),r=n.previous();r&&r.getStyle("marginBottom")!=="0px"&&r.getStyle("marginBottom").replace("px","")>0&&(f=parseInt(r.getStyle("marginBottom").replace("px",""),10),a-=f-3,n.one("#td-photoheader").setStyle("marginTop",parseInt(n.one("#td-photoheader").getStyle("marginTop").replace("px",""),10)+f)),l.on("scroll",p),l.on("resize",h)}})},"@VERSION@",{requires:["af-applet-view"]});
YUI.add("td-applet-photoheader-templates-main",function(e,t){dust.cache=dust.cache||{},dust.cache[t]=function(){return function(){function e(e,n){return e.write('<div id="td-photoheader" class="SlowTrans Pos-r Z-3 Cf Ov-h">').write("\n    ").exists(n.getPath(!1,["data","photoheader","linkUrl"]),n,{block:t},null).write("\n    ").write("<div class='W-100 ").exists(n.getPath(!1,["data","photoheader","backgroundImgUrl"]),n,{"else":o,block:u},null).write(" tie-title'>").write("\n        ").exists(n.getPath(!1,["data","photoheader","blogIconUrl"]),n,{block:a},null).write("\n        ").exists(n.getPath(!1,["data","photoheader","title"]),n,{block:c},null).write("\n        ").helper("eq",n,{block:m},{key:"1",value:L}).write("\n    ").write("</div>").write("\n    ").exists(n.getPath(!1,["data","photoheader","backgroundImgUrl"]),n,{block:A},null).write("\n    ").exists(n.getPath(!1,["data","photoheader","linkUrl"]),n,{block:I},null).write("\n").write("</div>").write("\n").write("<style>").write("\n").write("@media (max-width: 1200px) {").write("\n  ").write("#td-photoheader .tie-title h1 {").write("\n    ").write("font-size: 1.6em;").write("\n    ").write("width: 80%;").write("\n  ").write("}").write("\n").write("}").write("\n").write("@media (max-width: 1150px) {").write("\n  ").write("#td-photoheader .tie-title h1 {").write("\n    ").write("font-size: 1.45em;").write("\n    ").write("width: 80%;").write("\n  ").write("}").write("\n").write("}").write("\n").write("@media (max-width: 1100px) {").write("\n  ").write("#td-photoheader .tie-title h1 {").write("\n    ").write("font-size: 1.35em;").write("\n    ").write("width: 65%;").write("\n  ").write("}").write("\n").write("}").write("\n").write("@media (max-width: 980px) {").write("\n  ").write("#td-photoheader .tie-title h1 {").write("\n    ").write("font-size: 1.25em;").write("\n    ").write("width: 60%;").write("\n  ").write("}").write("\n").write("}").write("\n").write("</style>").write("\n")}function t(e,t){return e.write('<a href="').reference(t.getPath(!1,["data","photoheader","linkUrl"]),t,"h").write('" title="').reference(t.getPath(!1,["data","photoheader","title"]),t,"h",["s"]).write('" class="NoLinkColor" ').helper("rapid_data_attr",t,{},{rspns:"nav",t1:"a3",t2:"photoheader",sec:"photoheader",itc:0,sp:n,slk:r,elm:"img",cat:i,tar:s}).write(">")}function n(e,t){return e.reference(t.getPath(!1,["data","photoheader","isSponsored"]),t,"h")}function r(e,t){return e.reference(t.getPath(!1,["data","photoheader","title"]),t,"h",["s"])}function i(e,t){return e.reference(t.getPath(!1,["data","photoheader","logoAdvertiserName"]),t,"h",["s"])}function s(e,t){return e.reference(t.getPath(!1,["data","photoheader","linkUrl"]),t,"h")}function o(e,t){return e.write("Pos-r")}function u(e,t){return e.write("Pos-a")}function a(e,t){return e.write("\n            ").helper("img",t,{},{src:f,defer:"0","class":"W-10",alt:l}).write("\n        ")}function f(e,t){return e.reference(t.getPath(!1,["data","photoheader","blogIconUrl"]),t,"h")}function l(e,t){return e.reference(t.getPath(!1,["data","photoheader","title"]),t,"h",["s"])}function c(e,t){return e.write("\n            ").write("<h1 class='Fz-2xl Fw-b D-ib Pstart-10 My-10 H-n ").helper("eq",t,{block:h},{key:"1",value:p}).write(" ").helper("eq",t,{block:d},{key:"1",value:v}).write("'>").reference(t.getPath(!1,["data","photoheader","title"]),t,"h",["s"]).write("</h1>").write("\n        ")}function h(e,t){return e.write("Maw-70")}function p(e,t){return e.reference(t.getPath(!1,["data","photoheader","isSponsored"]),t,"h")}function d(e,t){return e.write("Hidden")}function v(e,t){return e.reference(t.getPath(!1,["data","photoheader","hideTitle"]),t,"h")}function m(e,t){return e.write("\n            ").exists(t.getPath(!1,["data","photoheader","logoImageUrl"]),t,{block:g},null).write("\n        ")}function g(e,t){return e.write("\n                ").exists(t.getPath(!1,["data","photoheader","logoLinkUrl"]),t,{"else":y,block:E},null).write("\n            ")}function y(e,t){return e.write("\n                    ").write('<div class="Fl-end Mx-10 My-6 Fz-xs Dimmed"><div>').reference(t.getPath(!1,["data","photoheader","sponsoredByText"]),t,"h").write("</div>").helper("img",t,{},{src:b,defer:"0",alt:w,onerror:"this.parentElement.style.display='none'"}).write('<div id="yom-ad-ESPON" class="Hidden"><div id="yom-ad-ESPON-iframe"></div></div></div>').write("\n                ")}function b(e,t){return e.reference(t.getPath(!1,["data","photoheader","logoImageUrl"]),t,"h")}function w(e,t){return e.reference(t.getPath(!1,["data","photoheader","logoAdvertiserName"]),t,"h",["s"])}function E(e,t){return e.write("\n                    ").write('<div class="Fl-end Mx-10 My-6 Fz-xs Dimmed"><div>').reference(t.getPath(!1,["data","photoheader","sponsoredByText"]),t,"h").write('</div><a href="').reference(t.getPath(!1,["data","photoheader","logoLinkUrl"]),t,"h").write('" title="').reference(t.getPath(!1,["data","photoheader","logoAdvertiserName"]),t,"h").write('" ').helper("rapid_data_attr",t,{},{rspns:"nav",t1:"a3",t2:"photoheader",sec:"photoheader",itc:0,sp:S,slk:x,elm:"img",elmt:"logo",cat:T,tar:N}).write(">").helper("img",t,{},{src:C,defer:"0",alt:k,onerror:"this.parentElement.parentElement.style.display='none'"}).write('</a><div id="yom-ad-ESPON" class="Hidden"><div id="yom-ad-ESPON-iframe"></div></div></div>').write("\n                ")}function S(e,t){return e.reference(t.getPath(!1,["data","photoheader","isSponsored"]),t,"h")}function x(e,t){return e.reference(t.getPath(!1,["data","photoheader","logoAdvertiserName"]),t,"h",["s"])}function T(e,t){return e.reference(t.getPath(!1,["data","photoheader","logoAdvertiserName"]),t,"h",["s"])}function N(e,t){return e.reference(t.getPath(!1,["data","photoheader","logoLinkUrl"]),t,"h")}function C(e,t){return e.reference(t.getPath(!1,["data","photoheader","logoImageUrl"]),t,"h")}function k(e,t){return e.reference(t.getPath(!1,["data","photoheader","logoAdvertiserName"]),t,"h",["s"])}function L
(e,t){return e.reference(t.getPath(!1,["data","photoheader","isSponsored"]),t,"h")}function A(e,t){return e.write("\n        ").helper("eq",t,{"else":O,block:D},{key:"1",value:B}).write("\n        ").helper("eq",t,{block:j},{key:"0",value:F}).write("\n    ")}function O(e,t){return e.write("\n            ").helper("img",t,{},{src:M,defer:"0","class":"W-100",alt:_,onerror:"this.style.display='none'"}).write("\n        ")}function M(e,t){return e.reference(t.getPath(!1,["data","photoheader","backgroundImgUrl"]),t,"h")}function _(e,t){return e.reference(t.getPath(!1,["data","photoheader","title"]),t,"h",["s"])}function D(e,t){return e.write("\n            ").helper("img",t,{},{src:P,defer:"0","class":"W-100",alt:H,onerror:"this.style.width='0'"}).write("\n        ")}function P(e,t){return e.reference(t.getPath(!1,["data","photoheader","backgroundImgUrl"]),t,"h")}function H(e,t){return e.reference(t.getPath(!1,["data","photoheader","title"]),t,"h",["s"])}function B(e,t){return e.reference(t.getPath(!1,["data","photoheader","hideTitle"]),t,"h")}function j(e,t){return e.write("\n            ").write('<div class="Overlay DarkOverlayGradient Pb-30 Mb-neg-12"></div>').write("\n        ")}function F(e,t){return e.reference(t.getPath(!1,["data","photoheader","disableGradient"]),t,"h")}function I(e,t){return e.write("</a>")}return dust.register("td-applet-photoheader-templates-main",e),e}()}(),dust.cache["td-applet-photoheader:main.dust"]=dust.cache["td-applet-photoheader:main"]=dust.cache[t],e.Template._cache=e.Template._cache||{},e.Template._cache["td-applet-photoheader/templates/main"]=function(e,n){e=e||{},dust.render(t,e,n)}},"@VERSION@",{requires:["template-base","dust"]});
